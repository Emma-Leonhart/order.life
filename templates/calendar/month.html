{% extends "base.html" %}
{% block title %}{{ month_display_name }} — {{ t.calendar_page.title }}{% endblock %}
{% block meta_description %}{{ month.symbol }} {{ month_display_name }} · {{ t.month }} {{ month.num }} · {{ days_in_month }} {{ t.days }} · {{ t['element_' + month.element] }}.{% endblock %}
{% block og_title %}{{ month.symbol }} {{ month_display_name }} — {{ t.calendar_page.title }}{% endblock %}
{% block og_description %}{{ t.month }} {{ month.num }} of the {{ t.calendar_page.title }}. {{ days_in_month }} {{ t.days }} · {{ t['element_' + month.element] }}. {{ t.calendar_page.structure }}{% endblock %}
{% block twitter_title %}{{ month.symbol }} {{ month_display_name }} — {{ t.calendar_page.title }}{% endblock %}
{% block twitter_description %}{{ t.month }} {{ month.num }} of the {{ t.calendar_page.title }}. {{ days_in_month }} {{ t.days }} · {{ t['element_' + month.element] }}. {{ t.calendar_page.structure }}{% endblock %}

{% block content %}
<div class="section-hero" style="border-left: 4px solid {{ element.color }};">
  <h1>{{ month.symbol }} {{ month_display_name }}</h1>
  <p>{{ t.month }} {{ month.num }} · {{ days_in_month }} {{ t.days }} · {{ t['element_' + month.element] }}</p>
</div>

<div class="container">
  <div class="breadcrumb">
    <a href="{{ base }}/">{{ t.nav.home }}</a>
    <span>›</span>
    <a href="{{ base }}/calendar/">{{ t.nav.calendar }}</a>
    <span>›</span>
    {{ month_display_name }}
  </div>

  <div class="days-grid">
    {% for wd in t.weekdays %}
    <div class="weekday-header">{{ wd }}</div>
    {% endfor %}

    {% for d in range(1, days_in_month + 1) %}
    {% set doy = (month.num - 1) * 28 + d if month.num <= 13 else 364 + d %}
    <a href="{{ base }}/calendar/{{ '%02d' % month.num }}/{{ '%02d' % d }}/"
       class="day-cell{% if gaian_today.month == month.num and gaian_today.day == d %} today{% endif %}">
      <span class="day-number">{{ d }}</span>
      {% if doy <= 364 %}
      <span class="day-chapter">{{ t.gaiad }} {{ doy }}</span>
      {% endif %}
    </a>
    {% endfor %}
  </div>

  <div class="section-content">
    {% if month_theme_title %}
    <h2 style="color: var(--accent);">{{ month_theme_title }}</h2>
    <p>{{ month_theme_desc }}</p>
    {% endif %}

    {% if month.num <= 13 %}
    <p style="color: var(--text-muted); margin-top: 1rem;">
      {{ month_display_name }} has <strong>28 days</strong> and covers
      {% if month.num == 1 %}days 1–28 of the Gaian year · Gaiad chapters 1–28.
      {% elif month.num == 2 %}days 29–56 of the Gaian year · Gaiad chapters 29–56.
      {% elif month.num == 3 %}days 57–84 of the Gaian year · Gaiad chapters 57–84.
      {% elif month.num == 4 %}days 85–112 of the Gaian year · Gaiad chapters 85–112.
      {% elif month.num == 5 %}days 113–140 of the Gaian year · Gaiad chapters 113–140.
      {% elif month.num == 6 %}days 141–168 of the Gaian year · Gaiad chapters 141–168.
      {% elif month.num == 7 %}days 169–196 of the Gaian year · Gaiad chapters 169–196.
      {% elif month.num == 8 %}days 197–224 of the Gaian year · Gaiad chapters 197–224.
      {% elif month.num == 9 %}days 225–252 of the Gaian year · Gaiad chapters 225–252.
      {% elif month.num == 10 %}days 253–280 of the Gaian year · Gaiad chapters 253–280.
      {% elif month.num == 11 %}days 281–308 of the Gaian year · Gaiad chapters 281–308.
      {% elif month.num == 12 %}days 309–336 of the Gaian year · Gaiad chapters 309–336.
      {% elif month.num == 13 %}days 337–364 of the Gaian year · Gaiad chapters 337–364.
      {% endif %}
    </p>
    {% else %}
    <p style="color: var(--text-muted); margin-top: 1rem;">
      Horus is the intercalary month: <strong>5 days</strong> in a common year,
      <strong>7 days</strong> in a leap year (53 ISO weeks).
    </p>
    {% endif %}
  </div>
</div>
{% endblock %}
